--
-- PostgreSQL database dump
--

-- Dumped from database version 14.3
-- Dumped by pg_dump version 14.3

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: javachat; Type: SCHEMA; Schema: -; Owner: postgres
--

CREATE SCHEMA javachat;


ALTER SCHEMA javachat OWNER TO postgres;

--
-- Name: adminpack; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS adminpack WITH SCHEMA pg_catalog;


--
-- Name: EXTENSION adminpack; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION adminpack IS 'administrative functions for PostgreSQL';


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: Chats; Type: TABLE; Schema: javachat; Owner: postgres
--

CREATE TABLE javachat."Chats" (
    "chatId" integer NOT NULL,
    name character varying
);


ALTER TABLE javachat."Chats" OWNER TO postgres;

--
-- Name: Messages; Type: TABLE; Schema: javachat; Owner: postgres
--

CREATE TABLE javachat."Messages" (
    "messageId" integer NOT NULL,
    "userId" integer,
    "chatId" integer,
    datetime timestamp without time zone,
    content character varying,
    status integer
);


ALTER TABLE javachat."Messages" OWNER TO postgres;

--
-- Name: UserChats; Type: TABLE; Schema: javachat; Owner: postgres
--

CREATE TABLE javachat."UserChats" (
    "userId" integer NOT NULL,
    "chatId" integer NOT NULL
);


ALTER TABLE javachat."UserChats" OWNER TO postgres;

--
-- Name: Users; Type: TABLE; Schema: javachat; Owner: postgres
--

CREATE TABLE javachat."Users" (
    "userId" integer NOT NULL,
    login character varying,
    status integer
);


ALTER TABLE javachat."Users" OWNER TO postgres;

--
-- Name: chats_chat_id_seq; Type: SEQUENCE; Schema: javachat; Owner: postgres
--

CREATE SEQUENCE javachat.chats_chat_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE javachat.chats_chat_id_seq OWNER TO postgres;

--
-- Name: chats_chat_id_seq; Type: SEQUENCE OWNED BY; Schema: javachat; Owner: postgres
--

ALTER SEQUENCE javachat.chats_chat_id_seq OWNED BY javachat."Chats"."chatId";


--
-- Name: messages_message_id_seq; Type: SEQUENCE; Schema: javachat; Owner: postgres
--

CREATE SEQUENCE javachat.messages_message_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE javachat.messages_message_id_seq OWNER TO postgres;

--
-- Name: messages_message_id_seq; Type: SEQUENCE OWNED BY; Schema: javachat; Owner: postgres
--

ALTER SEQUENCE javachat.messages_message_id_seq OWNED BY javachat."Messages"."messageId";


--
-- Name: users_user_id_seq; Type: SEQUENCE; Schema: javachat; Owner: postgres
--

CREATE SEQUENCE javachat.users_user_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE javachat.users_user_id_seq OWNER TO postgres;

--
-- Name: users_user_id_seq; Type: SEQUENCE OWNED BY; Schema: javachat; Owner: postgres
--

ALTER SEQUENCE javachat.users_user_id_seq OWNED BY javachat."Users"."userId";


--
-- Name: Chats chatId; Type: DEFAULT; Schema: javachat; Owner: postgres
--

ALTER TABLE ONLY javachat."Chats" ALTER COLUMN "chatId" SET DEFAULT nextval('javachat.chats_chat_id_seq'::regclass);


--
-- Name: Messages messageId; Type: DEFAULT; Schema: javachat; Owner: postgres
--

ALTER TABLE ONLY javachat."Messages" ALTER COLUMN "messageId" SET DEFAULT nextval('javachat.messages_message_id_seq'::regclass);


--
-- Name: Users userId; Type: DEFAULT; Schema: javachat; Owner: postgres
--

ALTER TABLE ONLY javachat."Users" ALTER COLUMN "userId" SET DEFAULT nextval('javachat.users_user_id_seq'::regclass);


--
-- Data for Name: Chats; Type: TABLE DATA; Schema: javachat; Owner: postgres
--

COPY javachat."Chats" ("chatId", name) FROM stdin;
1	TestingZoneOne
2	TestingZoneTwo
\.


--
-- Data for Name: Messages; Type: TABLE DATA; Schema: javachat; Owner: postgres
--

COPY javachat."Messages" ("messageId", "userId", "chatId", datetime, content, status) FROM stdin;
1	1	1	\N	Debagging Message for Zone One by Alpha	\N
4	1	1	\N	foo	\N
5	1	1	\N	Ok, it must work	\N
\.


--
-- Data for Name: UserChats; Type: TABLE DATA; Schema: javachat; Owner: postgres
--

COPY javachat."UserChats" ("userId", "chatId") FROM stdin;
1	1
1	2
2	1
3	2
4	1
4	2
\.


--
-- Data for Name: Users; Type: TABLE DATA; Schema: javachat; Owner: postgres
--

COPY javachat."Users" ("userId", login, status) FROM stdin;
1	Alpha	\N
2	Beta	\N
3	Gamma	\N
4	Delta	\N
\.


--
-- Name: chats_chat_id_seq; Type: SEQUENCE SET; Schema: javachat; Owner: postgres
--

SELECT pg_catalog.setval('javachat.chats_chat_id_seq', 2, true);


--
-- Name: messages_message_id_seq; Type: SEQUENCE SET; Schema: javachat; Owner: postgres
--

SELECT pg_catalog.setval('javachat.messages_message_id_seq', 5, true);


--
-- Name: users_user_id_seq; Type: SEQUENCE SET; Schema: javachat; Owner: postgres
--

SELECT pg_catalog.setval('javachat.users_user_id_seq', 4, true);


--
-- Name: Chats chats_pkey; Type: CONSTRAINT; Schema: javachat; Owner: postgres
--

ALTER TABLE ONLY javachat."Chats"
    ADD CONSTRAINT chats_pkey PRIMARY KEY ("chatId");


--
-- Name: Messages messages_pkey; Type: CONSTRAINT; Schema: javachat; Owner: postgres
--

ALTER TABLE ONLY javachat."Messages"
    ADD CONSTRAINT messages_pkey PRIMARY KEY ("messageId");


--
-- Name: UserChats pk_user_chats; Type: CONSTRAINT; Schema: javachat; Owner: postgres
--

ALTER TABLE ONLY javachat."UserChats"
    ADD CONSTRAINT pk_user_chats PRIMARY KEY ("chatId", "userId");


--
-- Name: Users users_pkey; Type: CONSTRAINT; Schema: javachat; Owner: postgres
--

ALTER TABLE ONLY javachat."Users"
    ADD CONSTRAINT users_pkey PRIMARY KEY ("userId");


--
-- Name: UserChats fk_chat; Type: FK CONSTRAINT; Schema: javachat; Owner: postgres
--

ALTER TABLE ONLY javachat."UserChats"
    ADD CONSTRAINT fk_chat FOREIGN KEY ("chatId") REFERENCES javachat."Chats"("chatId");


--
-- Name: Messages fk_chat; Type: FK CONSTRAINT; Schema: javachat; Owner: postgres
--

ALTER TABLE ONLY javachat."Messages"
    ADD CONSTRAINT fk_chat FOREIGN KEY ("chatId") REFERENCES javachat."Chats"("chatId");


--
-- Name: UserChats fk_user; Type: FK CONSTRAINT; Schema: javachat; Owner: postgres
--

ALTER TABLE ONLY javachat."UserChats"
    ADD CONSTRAINT fk_user FOREIGN KEY ("userId") REFERENCES javachat."Users"("userId");


--
-- Name: Messages fk_user; Type: FK CONSTRAINT; Schema: javachat; Owner: postgres
--

ALTER TABLE ONLY javachat."Messages"
    ADD CONSTRAINT fk_user FOREIGN KEY ("userId") REFERENCES javachat."Users"("userId");


--
-- PostgreSQL database dump complete
--

